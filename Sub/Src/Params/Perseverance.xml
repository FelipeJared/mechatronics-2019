<Perseverance>
    <COM_Ports>
        <maestro>/dev/ttyACM0</maestro>
        <AHRS>/dev/ttyUSB3</AHRS>
        <backplane>/dev/ttyUSB0</backplane>
        <DVL>/dev/ttyUSB1</DVL>
    </COM_Ports>
    <Timing>
        <AHRS>0.05</AHRS>
        <backplane_response>0.025</backplane_response>
        <backplane_handler>0.025</backplane_handler>
        <nav_controller>0.025</nav_controller>
    </Timing>
    <Control>
        <max_thrust>60</max_thrust>
        <Movement_Mode>
            <default>1</default>
        </Movement_Mode>
        <Limits>
            <max_roll>90</max_roll>
            <max_pitch>90</max_pitch>
            <min_z>0</min_z>
            <max_z>16</max_z>
        </Limits>
        <Thruster_Strengths>
            <T1>0.24</T1>
            <T2>0</T2>
            <T3>0.30</T3>
            <T4>0</T4>
            <T5>0</T5>
            <T6>0.28</T6>
            <T7>0</T7>
            <T8>0</T8>
            <active_depth>0.5</active_depth>
        </Thruster_Strengths>
        <PID>
            <dt>.025</dt>
            <roll_pid>
                <p>0.01</p>
                <i>0.005</i>
                <d>0.0</d>
                <min_error>-100</min_error>
                <max_error>100</max_error>
            </roll_pid>
            <pitch_pid>
                <p>0.2</p>
                <i>0.0</i>
                <d>0.0</d>
                <min_error>-100</min_error>
                <max_error>100</max_error>
            </pitch_pid>
            <yaw_pid>
                <p>0.85</p>
                <i>0.0</i>
                <d>0.0</d>
                <min_error>-10</min_error>
                <max_error>10</max_error>
            </yaw_pid>
            <x_pid>
                <p>10.0</p>
                <i>0.0</i>
                <d>0.0</d>
                <min_error>-10</min_error>
                <max_error>10</max_error>
            </x_pid>
            <y_pid>
                <p>8.0</p>
                <i>0.0</i>
                <d>0.0</d>
		<min_error>-30</min_error>
                <max_error>30</max_error>
            </y_pid>
            <z_pid>
                <p>12.0</p>
                <i>0.0</i>
                <d>0.0</d>
                <min_error>-100</min_error>
                <max_error>100</max_error>
                <bias>23</bias>
                <active_bias_depth>1</active_bias_depth>
            </z_pid>
        </PID>
        <Remote>
          <yaw_min>-30</yaw_min>
	      <yaw_max>30</yaw_max>
	      <x_min>-50</x_min>
	      <x_max>60</x_max>
	      <y_min>-50</y_min>
	      <y_max>60</y_max>
        </Remote>
    </Control>
    <Sensors>
        <trans_2_bias>1.0</trans_2_bias>
        <trans_1_bias>598.8</trans_1_bias>
        <trans_1_scaling>10.201854882705971</trans_1_scaling>
        <trans_2_scaling>1.0</trans_2_scaling>
    </Sensors>
    <Vision>
         <front_camera_index>1</front_camera_index>
         <down_camera_index>2</down_camera_index>
         <yolo>
		 <darknet_path>/home/nvidia/mechatronics-2019/Sub/Src/ComputerVision/libs/darknet</darknet_path>
               <config_file>cfg/mech.cfg</config_file>
               <weights_file>weights/mech.weights</weights_file>
               <metadata_file>data/mech.data</metadata_file>
         </yolo>
         <solvePnP>
               <camera_matrix>
                  <focal_length_x>656.76117331</focal_length_x>
                  <focal_length_y>656.5199208</focal_length_y>
                  <optical_center_x>311.02000055</optical_center_x>
                  <optical_center_y>235.31118765</optical_center_y>
               </camera_matrix>
               <distortion_matrix>
                  <k1>0.079735776</k1>
                  <k2>-0.0490818</k2>
                  <p1>-0.0281497</p1>
                  <p2>-0.00267198</p2>
                  <k3>-1.08707165</k3>
               </distortion_matrix>
         </solvePnP>
         <Coordinates>
            <gate_top>
                <top_y>0.0</top_y>
                <top_left_x>0.0</top_left_x>
                <top_right_x>10.0</top_right_x>
                <top_mid_x>5.0</top_mid_x>
                <top_right_mid_x>7.5</top_right_mid_x>
                <top_left_mid_x>2.5</top_left_mid_x>
            </gate_top>
            <gate_arm>
                <arm_x>0.0</arm_x>
                <arm_top>0.0</arm_top>
                <arm_bottom>5.0</arm_bottom>
                <arm_mid>2.5</arm_mid>
                <arm_upper_mid>1.25</arm_upper_mid>
                <arm_lower_mid>3.75</arm_lower_mid>
            </gate_arm>
            <dice>
                <topleft>0.0</topleft>
                <middle>0.375</middle>
                <bottomright>0.75</bottomright>
            </dice>
         </Coordinates>
    </Vision>
    <Missions>
      <waypoint_collect_file>waypoint_test.csv</waypoint_collect_file>
    </Missions>
</Perseverance>
